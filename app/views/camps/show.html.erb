<div class="btn btn-info"><i class="fa fa-chevron-left" aria-hidden="true"></i><%= link_to ' Back to the camps list', camps_path %></div>
<div class="container">
  <div class="row">


    <div class= "col-md-6 camp-summary">
      <h1><%= @camp.title %></h1>
      <div class="description-look"> <%= @camp.address %></div>
      <div class="description-look"> <%= @camp.description %></div>
      <div class="price-look"><%= @camp.price %>$</div>
    </div>

    <div class="col-md-6 book-form">
      <h3>Book now !</h3>
      <br>
      <%= simple_form_for([ @camp, @booking ]) do |f| %>
        <%= f.input :start_date, as: :string, input_html: { class: "datepicker" }, placeholder: 'Pick a starting date' %>
        <%= f.input :end_date, as: :string, input_html: { class: "datepicker" }, placeholder: 'Pick an ending date' %>
        <%=f.input :surfers, collection: 1..12, selected: 1, label: "For how many surfers?" %>
        <%= f.submit "Book now" , class: "btn btn-primary" %>
      <% end %>
    </div>


<div id="map" style="width: 100%; height: 600px;"></div>


<!-- Js mapping -->
<% content_for(:after_js) do %>
  <%= javascript_tag do %>
    $(document).ready(function() {
      var handler = Gmaps.build('Google');
      handler.buildMap({
      provider: {
          styles:
          [{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#444444"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2f2f2"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#46bcec"},{"visibility":"on"}]}]

          },
        internal: { id: 'map' } }, function() {
        markers = handler.addMarkers(<%= raw @hash.to_json %>);
        handler.bounds.extendWith(markers);
        handler.fitMapToBounds();
        if (markers.length == 0) {
          handler.getMap().setZoom(2);
        } else if (markers.length == 1) {
          handler.getMap().setZoom(12);
        }
      });
    });
  <% end %>
<% end %>

 </div>
</div>
